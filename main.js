/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/script/Views/ModalWindows/modalBuyCardView.js":
/*!***********************************************************!*\
  !*** ./src/script/Views/ModalWindows/modalBuyCardView.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modalView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modalView */ \"./src/script/Views/ModalWindows/modalView.js\");\n\r\n\r\nclass ModalBuyCardView extends _modalView__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  addHendleModalBuyCardClick(handlerClick, handlerSubmit) {\r\n    this._wrapper.addEventListener('click', handlerClick);\r\n    this._wrapper.addEventListener('submit', handlerSubmit);\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n      <div\r\n        class=\"close-btn close-btn--white\"\r\n        id=\"modal-buy-card-close-btn\"\r\n      ></div>\r\n      <p class=\"modal-buy-card__title\">Buy a library card</p>\r\n      <div class=\"modal-buy-card__content\">\r\n        <form class=\"modal-buy-card__form\" id=\"modal-buy-card-form\">\r\n          <div class=\"modal-buy-card__group\">\r\n            <label for=\"bank-card-number\" class=\"modal-form__label\">\r\n              Bank card number\r\n            </label>\r\n            <input\r\n              id=\"bank-card-number\"\r\n              class=\"modal-form__input\"\r\n              type=\"text\"\r\n              name=\"bankCardNumber\"\r\n              placeholder=\"1234 5678 9012 3456\"\r\n              pattern=\"(\\\\d{4}\\\\s?){4}\"\r\n              required\r\n            />\r\n\r\n            <fieldset class=\"modal-buy-card__expiration-code\">\r\n              <legend class=\"modal-form__label\">Expiration code</legend>\r\n              <input\r\n                id=\"expiration-code-1\"\r\n                class=\"modal-form__input\"\r\n                type=\"text\"\r\n                name=\"expirationCode1\"\r\n                placeholder=\"00\"\r\n                pattern=\"\\\\d{2}\"\r\n                required\r\n              />\r\n              <input\r\n                id=\"expiration-code-2\"\r\n                class=\"modal-form__input\"\r\n                type=\"text\"\r\n                name=\"expirationCode2\"\r\n                placeholder=\"00\"\r\n                pattern=\"\\\\d{2}\"\r\n                required\r\n              />\r\n            </fieldset>\r\n\r\n            <label for=\"cvc\" class=\"modal-form__label\">CVC</label>\r\n            <input\r\n              id=\"cvc\"\r\n              class=\"modal-form__input modal-buy-card__cvc\"\r\n              type=\"text\"\r\n              name=\"cvc\"\r\n              placeholder=\"000\"\r\n              pattern=\"\\\\d{3}\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"modal-buy-card__group\">\r\n            <label for=\"cardholder-name\" class=\"modal-form__label\">\r\n              Cardholder name\r\n            </label>\r\n            <input\r\n              id=\"cardholder-name\"\r\n              class=\"modal-form__input\"\r\n              type=\"text\"\r\n              name=\"cardholderName\"\r\n              placeholder=\"Ivanov Ivan\"\r\n              required\r\n            />\r\n\r\n            <label for=\"postal-code\" class=\"modal-form__label\">\r\n              Postal code\r\n            </label>\r\n            <input\r\n              id=\"postal-code\"\r\n              class=\"modal-form__input\"\r\n              type=\"text\"\r\n              name=\"postalCode\"\r\n              placeholder=\"123456789\"\r\n              required\r\n            />\r\n\r\n            <label for=\"city-town\" class=\"modal-form__label\">\r\n              City / Town\r\n            </label>\r\n            <input\r\n              id=\"city-town\"\r\n              class=\"modal-form__input\"\r\n              type=\"text\"\r\n              name=\"cityTown\"\r\n              placeholder=\"Moscow\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"modal-buy-card__cost\">\r\n            <button class=\"btn modal-form__submit-btn\" type=\"submit\">\r\n              Buy\r\n            </button>\r\n            <p>$ 25.00</p>\r\n          </div>\r\n        </form>\r\n        <div class=\"modal-buy-card__description\">\r\n          If you are live, work, attend school, or pay property taxes in New\r\n          York State, you can get a $25 digital library card right now using\r\n          this online form. Visitors to New York State can also use this form\r\n          to apply for a temporary card.\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  show() {\r\n    this._modal.innerHTML = this._generateMarkup();\r\n    this._open();\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ModalBuyCardView(\r\n  '#modal-buy-card-wrapper',\r\n  '#modal-buy-card'\r\n));\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/ModalWindows/modalBuyCardView.js?");

/***/ }),

/***/ "./src/script/Views/ModalWindows/modalFormAuthView.js":
/*!************************************************************!*\
  !*** ./src/script/Views/ModalWindows/modalFormAuthView.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modalView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modalView */ \"./src/script/Views/ModalWindows/modalView.js\");\n\r\n\r\nclass ModalFormAuthView extends _modalView__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  addHandleForm(handlerSubmit, handlerClick) {\r\n    this._wrapper.addEventListener('submit', handlerSubmit);\r\n    this._wrapper.addEventListener('click', handlerClick);\r\n  }\r\n\r\n  _createLoginFormMarkup() {\r\n    return `\r\n      <div class=\"close-btn\" id=\"modal-form-auth-close-btn\"></div>\r\n\r\n      <div class=\"modal-form-auth__header\">Login</div>\r\n\r\n      <label for=\"login-id\" class=\"modal-form__label\">\r\n        E-mail or readers card\r\n      </label>\r\n      <input\r\n        id=\"login-id\"\r\n        class=\"modal-form__input\"\r\n        type=\"text\"\r\n        name=\"id\"\r\n        required\r\n      />\r\n\r\n      <label for=\"login-password\" class=\"modal-form__label\">\r\n        Password\r\n      </label>\r\n      <input\r\n        id=\"login-password\"\r\n        class=\"modal-form__input\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        minlength=\"8\"\r\n        required\r\n      />\r\n\r\n      <button class=\"btn modal-form__submit-btn\" type=\"submit\">Log In</button>\r\n\r\n      <div class=\"modal-form-auth__alternative\">\r\n        <span>Donâ€™t have an account?</span>\r\n        <a class=\"modal-form-auth__alternativ-link\" id=\"modal-form-auth-alternativ-link\" href=\"register\">Register</a>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  _createRegisterFormMarkup() {\r\n    return `\r\n      <div class=\"close-btn\" id=\"modal-form-auth-close-btn\"></div>\r\n\r\n      <div class=\"modal-form-auth__header\">Register</div>\r\n\r\n      <label for=\"first-name\" class=\"modal-form__label\">\r\n        First name\r\n      </label>\r\n      <input\r\n        id=\"first-name\"\r\n        class=\"modal-form__input\"\r\n        type=\"text\"\r\n        name=\"firstName\"\r\n        required\r\n      />\r\n\r\n      <label for=\"last-name\" class=\"modal-form__label\">\r\n        Last name\r\n      </label>\r\n      <input\r\n        id=\"last-name\"\r\n        class=\"modal-form__input\"\r\n        type=\"text\"\r\n        name=\"lastName\"\r\n        required\r\n      />\r\n\r\n      <label for=\"email\" class=\"modal-form__label\">\r\n        E-mail\r\n      </label>\r\n      <input\r\n        id=\"email\"\r\n        class=\"modal-form__input\"\r\n        type=\"email\"\r\n        name=\"email\"\r\n        required\r\n      />\r\n\r\n      <label for=\"login-password\" class=\"modal-form__label\">\r\n        Password\r\n      </label>\r\n      <input\r\n        id=\"login-password\"\r\n        class=\"modal-form__input\"\r\n        type=\"password\"\r\n        minlength=\"8\"\r\n        name=\"password\"\r\n        required\r\n      />\r\n\r\n      <button class=\"btn modal-form__submit-btn\" type=\"submit\">Sign Up</button>\r\n\r\n      <div class=\"modal-form-auth__alternative\">\r\n        <span>Already have an account?</span>\r\n        <a class=\"modal-form-auth__alternativ-link\" id=\"modal-form-auth-alternativ-link\" href=\"login\">Login</a>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  login() {\r\n    this._modal.innerHTML = this._createLoginFormMarkup();\r\n    this._modal.setAttribute('data-type', 'login');\r\n    this._open();\r\n  }\r\n\r\n  signup() {\r\n    this._modal.innerHTML = this._createRegisterFormMarkup();\r\n    this._modal.setAttribute('data-type', 'signup');\r\n    this._open();\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ModalFormAuthView(\r\n  '#modal-form-auth-wrapper',\r\n  '#modal-form-auth'\r\n));\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/ModalWindows/modalFormAuthView.js?");

/***/ }),

/***/ "./src/script/Views/ModalWindows/modalProfileView.js":
/*!***********************************************************!*\
  !*** ./src/script/Views/ModalWindows/modalProfileView.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modalView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modalView */ \"./src/script/Views/ModalWindows/modalView.js\");\n\r\n\r\nclass ModalProfileView extends _modalView__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  addHandleModalProfile(handler) {\r\n    this._wrapper.addEventListener('click', handler);\r\n  }\r\n\r\n  _createModalProfileMarkup(user) {\r\n    return `\r\n      <div class=\"close-btn\" id=\"modal-profile-close-btn\"></div>\r\n\r\n      <div class=\"modal-profile__user\">\r\n        <div class=\"modal-profile__avatar\">\r\n          ${user.firstName.charAt(0).toUpperCase()}\r\n          ${user.lastName.charAt(0).toUpperCase()}\r\n        </div>\r\n        <div class=\"modal-profile__name\">\r\n          ${user.firstName} ${user.lastName}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"modal-profile__about\">\r\n        <p class=\"modal-profile__header\">My profile</p>\r\n\r\n        <div class=\"modal-profile__data\">\r\n          <div class=\"cards-profile\">\r\n            <div class=\"cards-profile__info\">\r\n              <p class=\"cards-profile__title\">visits</p>\r\n              <img src=\"./src/img/icons/Union.svg\" alt=\"Man icon\" />\r\n              <p class=\"cards-profile__value\">${user.visits}</p>\r\n            </div>\r\n            <div class=\"cards-profile__info\">\r\n              <p class=\"cards-profile__title\">bonuses</p>\r\n              <img src=\"./src/img/icons/Star 1.svg\" alt=\"Star icon\" />\r\n              <p class=\"cards-profile__value\">${user.bonuses}</p>\r\n            </div>\r\n            <div class=\"cards-profile__info\">\r\n              <p class=\"cards-profile__title\">books</p>\r\n              <img src=\"./src/img/icons/book.svg\" alt=\"Man icon\" />\r\n              <p class=\"cards-profile__value\">${\r\n                user.rentedBooks?.length || 0\r\n              }</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-profile__books\">\r\n            <p>Rented books</p>\r\n            <ul class=\"modal-profile__list\">\r\n              ${\r\n                user.rentedBooks\r\n                  ?.map(\r\n                    (book) => `<li class=\"modal-profile__item\">${book}</li>`\r\n                  )\r\n                  .reduce((acc, str) => acc + str) || ''\r\n              }\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-profile__card\">\r\n          <span>Card number</span>\r\n          <span class=\"modal-profile__card-number\">${user.cardNumber}</span>\r\n          <img\r\n            class=\"modal-profile__copy-btn\"\r\n            id=\"modal-profile-copy-btn\"\r\n            src=\"./src/img/icons/icon_copy.svg\"\r\n            alt=\"Copy icon\"\r\n          />\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  show(user) {\r\n    this._modal.innerHTML = this._createModalProfileMarkup(user);\r\n    this._open();\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ModalProfileView('#modal-profile-wrapper', '#modal-profile'));\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/ModalWindows/modalProfileView.js?");

/***/ }),

/***/ "./src/script/Views/ModalWindows/modalView.js":
/*!****************************************************!*\
  !*** ./src/script/Views/ModalWindows/modalView.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModalView)\n/* harmony export */ });\nclass ModalView {\r\n  _wrapper;\r\n  _modal;\r\n\r\n  constructor(wrapperId, modalId) {\r\n    this._wrapper = document.querySelector(wrapperId);\r\n    this._modal = document.querySelector(modalId);\r\n  }\r\n\r\n  _open() {\r\n    this._wrapper.classList.add('pop-up--show');\r\n  }\r\n\r\n  close() {\r\n    this._wrapper.classList.remove('pop-up--show');\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/ModalWindows/modalView.js?");

/***/ }),

/***/ "./src/script/Views/cardView.js":
/*!**************************************!*\
  !*** ./src/script/Views/cardView.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass cardView {\r\n  #libraryCard = document.querySelector('#library-card');\r\n  #form = document.querySelector('#check-card');\r\n  #footer = document.querySelector('#card-form-footer');\r\n  #account = document.querySelector('#library-card-account');\r\n  #nameInput = document.querySelector('#name-input');\r\n  #cardInput = document.querySelector('#card-input');\r\n\r\n  setState(user) {\r\n    if (user) {\r\n      this.showProfileInfo(user);\r\n      this.showVisitYourProfile();\r\n    } else {\r\n      this.showSubmitBtn();\r\n      this.showGetReaderCard();\r\n    }\r\n  }\r\n\r\n  showSubmitBtn() {\r\n    this.#footer.innerHTML = this.#createBtnMarkup();\r\n    this.cleanCardForm();\r\n  }\r\n\r\n  showProfileInfo(user) {\r\n    this.#nameInput.value = `${user.firstName} ${user.lastName}`;\r\n    this.#cardInput.value = user.cardNumber;\r\n    this.#footer.innerHTML = this.#createProfileMarkup(user);\r\n  }\r\n\r\n  showGetReaderCard() {\r\n    this.#account.innerHTML = this.#createGetReaderCardMarkup();\r\n  }\r\n\r\n  showVisitYourProfile() {\r\n    this.#account.innerHTML = this.#createVisitYourProfilearkup();\r\n  }\r\n\r\n  cleanCardForm() {\r\n    this.#form.elements.name.value = '';\r\n    this.#form.elements.card.value = '';\r\n  }\r\n\r\n  #createBtnMarkup() {\r\n    return `\r\n      <button\r\n        class=\"card-form__btn\"\r\n        id=\"submit-card-btn\"\r\n        type=\"submit\"\r\n      >\r\n        Check the card\r\n      </button>\r\n    `;\r\n  }\r\n\r\n  #createProfileMarkup(user) {\r\n    return `\r\n      <div class=\"cards-profile\">\r\n        <div class=\"cards-profile__info\">\r\n          <p>visits</p>\r\n          <img src=\"./src/img/icons/Union.svg\" alt=\"Man icon\" />\r\n          <p>${user.visits}</p>\r\n        </div>\r\n        <div class=\"cards-profile__info\">\r\n          <p>bonuses</p>\r\n          <img src=\"./src/img/icons/Star 1.svg\" alt=\"Star icon\" />\r\n          <p>${user.bonuses}</p>\r\n        </div>\r\n        <div class=\"cards-profile__info\">\r\n          <p>books</p>\r\n          <img src=\"./src/img/icons/book.svg\" alt=\"Man icon\" />\r\n          <p>${user.rentedBooks?.length || 0}</p>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  #createGetReaderCardMarkup() {\r\n    return `\r\n      <p class=\"library-card__title library-card__title--forum\">\r\n        Get a reader card\r\n      </p>\r\n      <p class=\"library-card__description\">\r\n        You will be able to see a reader card after logging into account\r\n        or you can register a new account\r\n      </p>\r\n      <div class=\"library-card__buttons\">\r\n        <div class=\"btn\" id=\"library-card-signup\">Sign Up</div>\r\n        <div class=\"btn\" id=\"library-card-login\">Log In</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  #createVisitYourProfilearkup() {\r\n    return `\r\n      <p class=\"library-card__title library-card__title--forum\">\r\n        Visit your profile\r\n      </p>\r\n      <p class=\"library-card__description\">\r\n        With a digital library card you get free access to the \r\n        Libraryâ€™s wide array of digital resources including e-books, \r\n        databases, educational resources, and more.\r\n      </p>\r\n      <div class=\"library-card__buttons\">\r\n        <div class=\"btn\" id=\"library-card-profile\">Profile</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  addHandleSubmitCard(handlerClick, handlerSubmit) {\r\n    this.#libraryCard.addEventListener('click', handlerClick);\r\n    this.#libraryCard.addEventListener('submit', handlerSubmit);\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new cardView());\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/cardView.js?");

/***/ }),

/***/ "./src/script/Views/carouselView.js":
/*!******************************************!*\
  !*** ./src/script/Views/carouselView.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CarouselView {\r\n  #leftCarret = document.querySelector('#left-carret');\r\n  #rightCarret = document.querySelector('#right-carret');\r\n  #pagination = document.querySelector('#pagination');\r\n  #paginationCircle = Array.from(\r\n    document.querySelectorAll('.carousel__circle')\r\n  );\r\n  #paginationBtns = Array.from(document.querySelectorAll('.carousel__btn'));\r\n  #imagesContainer = document.querySelector('#carousel-images-container');\r\n  #mediaQuery = window.matchMedia('(max-width: 1439px)');\r\n  #columnWidth = 45 + 2.5;\r\n  #positions = [\r\n    0,\r\n    -this.#columnWidth,\r\n    -this.#columnWidth * 2,\r\n    -this.#columnWidth * 3,\r\n    -this.#columnWidth * 4,\r\n  ];\r\n\r\n  #updateCurrentCircle(newPosition) {\r\n    this.#paginationCircle.forEach((circle) => {\r\n      circle.classList.remove('carousel__circle--active');\r\n    });\r\n    this.#paginationCircle[newPosition].classList.add(\r\n      'carousel__circle--active'\r\n    );\r\n  }\r\n\r\n  render(newPosition) {\r\n    this.#updateCurrentCircle(newPosition);\r\n\r\n    this.#rightCarret.removeAttribute('disabled');\r\n    this.#leftCarret.removeAttribute('disabled');\r\n    if (newPosition === this.#positions.length - 1)\r\n      this.#rightCarret.setAttribute('disabled', '');\r\n    if (newPosition === 0) this.#leftCarret.setAttribute('disabled', '');\r\n\r\n    this.#paginationBtns.forEach((btn) => {\r\n      btn.removeAttribute('disabled');\r\n    });\r\n    this.#paginationBtns[newPosition].setAttribute('disabled', '');\r\n\r\n    document.documentElement.style.setProperty(\r\n      '--carousel-position',\r\n      this.#positions[newPosition] + 'rem'\r\n    );\r\n  }\r\n\r\n  #endMoveToAnimation() {\r\n    this.#imagesContainer.classList.remove('move-to');\r\n  }\r\n\r\n  moveTo(oldPosition, newPosition) {\r\n    document.documentElement.style.setProperty(\r\n      '--animation-position-from',\r\n      this.#positions[oldPosition] + 'rem'\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      '--animation-position-to',\r\n      this.#positions[newPosition] + 'rem'\r\n    );\r\n\r\n    this.#imagesContainer.classList.add('move-to');\r\n\r\n    this.#imagesContainer.addEventListener(\r\n      'animationend',\r\n      this.#endMoveToAnimation.bind(this),\r\n      { once: true }\r\n    );\r\n\r\n    this.render(newPosition);\r\n  }\r\n\r\n  addHandleTabletChange(handle) {\r\n    this.#mediaQuery.addEventListener('change', handle);\r\n    handle(this.#mediaQuery);\r\n  }\r\n\r\n  addHandleRightCarretClick(handle) {\r\n    this.#rightCarret.addEventListener('click', handle);\r\n  }\r\n\r\n  addHandleLeftCarretClick(handle) {\r\n    this.#leftCarret.addEventListener('click', handle);\r\n  }\r\n\r\n  addHeandlePaginationClick(handle) {\r\n    this.#pagination.addEventListener('click', handle);\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new CarouselView());\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/carouselView.js?");

/***/ }),

/***/ "./src/script/Views/favoritesView.js":
/*!*******************************************!*\
  !*** ./src/script/Views/favoritesView.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass FavoritesView {\r\n  #tabs = document.querySelector('#tabs');\r\n  #books = Array.from(document.querySelectorAll('.book'));\r\n\r\n  setState(user) {\r\n    this.#books.forEach((book) => {\r\n      const bookTitle = book.querySelector('.book__title').textContent.trim();\r\n      const bookAuthor = book.querySelector('.book__author').textContent.trim();\r\n      const bookName = `${bookTitle}, ${bookAuthor}`;\r\n      const btn = book.querySelector('.btn');\r\n      btn.setAttribute('data-book', bookName);\r\n\r\n      if (user && user.rentedBooks?.includes(bookName)) {\r\n        btn.classList.add('btn--inactive');\r\n        btn.setAttribute('disabled', '');\r\n        btn.innerHTML = 'Own';\r\n      } else {\r\n        btn.classList.remove('btn--inactive');\r\n        btn.removeAttribute('disabled');\r\n        btn.innerHTML = 'Buy';\r\n      }\r\n    });\r\n  }\r\n\r\n  #endShowedAnimation(newTab) {\r\n    newTab.classList.remove('book__container--showed');\r\n  }\r\n\r\n  #endHiddenAnimation(oldTab, newTab) {\r\n    oldTab.classList.remove(\r\n      'book__container--hidden',\r\n      'book__container--active'\r\n    );\r\n    newTab.classList.add('book__container--active', 'book__container--showed');\r\n    newTab.addEventListener(\r\n      'animationend',\r\n      this.#endShowedAnimation.bind(this, newTab),\r\n      { once: true }\r\n    );\r\n  }\r\n\r\n  changeTab(oldTabId, newTabId) {\r\n    const oldTab = document.querySelector(`#${oldTabId}`);\r\n    const newTab = document.querySelector(`#${newTabId}`);\r\n\r\n    oldTab.classList.add('book__container--hidden');\r\n    oldTab.addEventListener(\r\n      'animationend',\r\n      this.#endHiddenAnimation.bind(this, oldTab, newTab),\r\n      { once: true }\r\n    );\r\n  }\r\n\r\n  addHandleTabsClick(handle) {\r\n    this.#tabs.addEventListener('change', handle);\r\n  }\r\n\r\n  addHandleBookBtnsClick(handler) {\r\n    this.#books.forEach((book) => {\r\n      const btn = book.querySelector('.btn');\r\n      btn.addEventListener('click', handler);\r\n    });\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new FavoritesView());\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/favoritesView.js?");

/***/ }),

/***/ "./src/script/Views/headerMenuView.js":
/*!********************************************!*\
  !*** ./src/script/Views/headerMenuView.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass HeaderMenuView {\r\n  #header = document.querySelector('#header');\r\n  #navigation = document.querySelector('#navigation');\r\n  #header_menu_btns = document.querySelector('#header-menu-btns');\r\n  #header_backarea = document.querySelector('#header-backarea');\r\n  #iconProfile = document.querySelector('#icon-profile');\r\n  #profileMenu = null;\r\n\r\n  addHandleRender(handler) {\r\n    this.#header.addEventListener('click', handler);\r\n  }\r\n\r\n  addHandleIconProfileClick(handler) {\r\n    this.#iconProfile.addEventListener('click', handler);\r\n  }\r\n\r\n  hideEverything() {\r\n    this.#hideBurgerMenu();\r\n    this.#hideProfileMenu();\r\n    this.#header_backarea.classList.remove('header__backarea--show');\r\n  }\r\n\r\n  #hideBurgerMenu() {\r\n    this.#header_menu_btns.classList.add('header__burger--open');\r\n    this.#navigation.classList.add('navigation--close');\r\n  }\r\n\r\n  toggleBurgerMenu() {\r\n    this.#header_menu_btns.classList.toggle('header__burger--open');\r\n    this.#navigation.classList.toggle('navigation--close');\r\n    this.#header_backarea.classList.toggle('header__backarea--show');\r\n\r\n    if (!this.#profileMenu.classList.contains('profile-menu--hidden')) {\r\n      this.#hideProfileMenu();\r\n      this.#header_backarea.classList.add('header__backarea--show');\r\n    }\r\n  }\r\n\r\n  #hideProfileMenu() {\r\n    this.#profileMenu.classList.add('profile-menu--hidden');\r\n  }\r\n\r\n  toggleProfileMenu() {\r\n    this.#profileMenu.classList.toggle('profile-menu--hidden');\r\n    this.#header_backarea.classList.toggle('header__backarea--show');\r\n\r\n    if (!this.#header_menu_btns.classList.contains('header__burger--open')) {\r\n      this.#hideBurgerMenu();\r\n      this.#header_backarea.classList.add('header__backarea--show');\r\n    }\r\n  }\r\n\r\n  #createProfileMenuMarkup(btnsData) {\r\n    return `\r\n      <nav class=\"profile-menu profile-menu--hidden\" id=\"profile-menu\">\r\n        ${\r\n          btnsData.cardNumber\r\n            ? `<div class=\"profile-menu__header-item profile-menu__header-item--small\">${btnsData.cardNumber}</div>`\r\n            : '<div class=\"profile-menu__header-item\">Profile</div>'\r\n        }\r\n        <ul class=\"profile-menu__list\">\r\n          <li class=\"profile-menu__item\" id=\"${btnsData.firstId}\">\r\n            ${btnsData.firstBtn}\r\n          </li>\r\n          <li class=\"profile-menu__item\" id=\"${btnsData.secondId}\">\r\n            ${btnsData.secondBtn}\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    `;\r\n  }\r\n\r\n  setState(user, profileMenuHandler) {\r\n    this.#iconProfile.innerHTML = '';\r\n    if (user) {\r\n      const btnsData = {\r\n        firstId: 'my-profile-btn',\r\n        secondId: 'logout-btn',\r\n        firstBtn: 'My profile',\r\n        secondBtn: 'Log Out',\r\n        cardNumber: user.cardNumber,\r\n      };\r\n      this.#iconProfile.insertAdjacentHTML(\r\n        'afterbegin',\r\n        this.#createProfileMenuMarkup(btnsData)\r\n      );\r\n\r\n      this.#iconProfile.insertAdjacentHTML(\r\n        'afterbegin',\r\n        `\r\n          <div class=\"header__initials-icon\" \r\n            title=\"${user.firstName} ${user.lastName}\">\r\n            ${user.firstName.charAt(0).toUpperCase()}\r\n            ${user.lastName.charAt(0).toUpperCase()}\r\n          </div>\r\n        `\r\n      );\r\n    } else {\r\n      const btnsData = {\r\n        firstId: 'login-btn',\r\n        secondId: 'register-btn',\r\n        firstBtn: 'Log In',\r\n        secondBtn: 'Register',\r\n        cardNumber: null,\r\n      };\r\n      this.#iconProfile.insertAdjacentHTML(\r\n        'afterbegin',\r\n        this.#createProfileMenuMarkup(btnsData)\r\n      );\r\n\r\n      this.#iconProfile.insertAdjacentHTML(\r\n        'afterbegin',\r\n        '<img src=\"./src/img/icons/icon_profile.svg\" alt=\"Icon of profile\" />'\r\n      );\r\n    }\r\n\r\n    this.#profileMenu = document.querySelector('#profile-menu');\r\n    this.addHandleIconProfileClick(profileMenuHandler);\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new HeaderMenuView());\r\n\n\n//# sourceURL=webpack://library/./src/script/Views/headerMenuView.js?");

/***/ }),

/***/ "./src/script/controller.js":
/*!**********************************!*\
  !*** ./src/script/controller.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Views/headerMenuView */ \"./src/script/Views/headerMenuView.js\");\n/* harmony import */ var _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Views/carouselView */ \"./src/script/Views/carouselView.js\");\n/* harmony import */ var _Views_favoritesView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Views/favoritesView */ \"./src/script/Views/favoritesView.js\");\n/* harmony import */ var _Views_cardView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Views/cardView */ \"./src/script/Views/cardView.js\");\n/* harmony import */ var _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Views/ModalWindows/modalFormAuthView */ \"./src/script/Views/ModalWindows/modalFormAuthView.js\");\n/* harmony import */ var _Views_ModalWindows_modalProfileView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Views/ModalWindows/modalProfileView */ \"./src/script/Views/ModalWindows/modalProfileView.js\");\n/* harmony import */ var _Views_ModalWindows_modalBuyCardView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Views/ModalWindows/modalBuyCardView */ \"./src/script/Views/ModalWindows/modalBuyCardView.js\");\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model.js */ \"./src/script/model.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst controlHeaderMenu = function (e) {\r\n  if (e.target.closest('#header-menu-btns, .navigation__item'))\r\n    _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toggleBurgerMenu();\r\n  if (e.target.closest('#header-backarea')) _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hideEverything();\r\n};\r\n\r\nconst controlIconProfileClick = function (e) {\r\n  _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toggleProfileMenu();\r\n  if (e.target.closest('#my-profile-btn')) {\r\n    const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.getUser();\r\n    _Views_ModalWindows_modalProfileView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].show(user);\r\n  }\r\n  if (e.target.closest('#logout-btn')) {\r\n    _model_js__WEBPACK_IMPORTED_MODULE_7__.logOut();\r\n    initialUser();\r\n  }\r\n  if (e.target.closest('#login-btn')) _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].login();\r\n  if (e.target.closest('#register-btn')) _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].signup();\r\n};\r\n\r\nconst controlTabletChange = function (e) {\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.updatePosition(0);\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].render(_model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position);\r\n};\r\n\r\nconst controlRightCarretClick = function (e) {\r\n  const oldPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.updatePosition(_model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position + 1);\r\n  const newPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].moveTo(oldPosition, newPosition);\r\n};\r\n\r\nconst controlLeftCarretClick = function (e) {\r\n  const oldPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.updatePosition(_model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position - 1);\r\n  const newPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].moveTo(oldPosition, newPosition);\r\n};\r\n\r\nconst controlPaginationClick = function (e) {\r\n  const btn = e.target.classList.contains('carousel__btn')\r\n    ? e.target\r\n    : e.target.parentElement;\r\n  const oldPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  const position = +btn.dataset.position;\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.updatePosition(position);\r\n  const newPosition = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.carouser.position;\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].moveTo(oldPosition, newPosition);\r\n};\r\n\r\nconst controlTabsClick = function (e) {\r\n  const oldTab = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.tabs.currentTab ?? 'winterBooks';\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.updateCurrentTab(e.target.dataset.tab);\r\n  const newTab = _model_js__WEBPACK_IMPORTED_MODULE_7__.state.tabs.currentTab;\r\n  _Views_favoritesView__WEBPACK_IMPORTED_MODULE_2__[\"default\"].changeTab(oldTab, newTab);\r\n};\r\n\r\nconst initialUser = function () {\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.setUser();\r\n  const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.getUser();\r\n\r\n  _Views_cardView__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setState(user);\r\n  _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setState(user, controlIconProfileClick);\r\n  _Views_favoritesView__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setState(user);\r\n};\r\n\r\nconst controlCardSubmit = function (e) {\r\n  e.preventDefault();\r\n  const form = e.target;\r\n  const formFields = form.elements;\r\n  const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.checkCard(formFields);\r\n  if (user) _Views_cardView__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showProfileInfo(user);\r\n  setTimeout(_Views_cardView__WEBPACK_IMPORTED_MODULE_3__[\"default\"].showSubmitBtn.bind(_Views_cardView__WEBPACK_IMPORTED_MODULE_3__[\"default\"]), 10000);\r\n};\r\n\r\nconst controlCardClick = function (e) {\r\n  if (e.target.closest('#library-card-signup')) _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].signup();\r\n  if (e.target.closest('#library-card-login')) _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].login();\r\n  if (e.target.closest('#library-card-profile')) {\r\n    const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.getUser();\r\n    _Views_ModalWindows_modalProfileView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].show(user);\r\n  }\r\n};\r\n\r\nconst controlModalFormAuthSubmit = function (e) {\r\n  e.preventDefault();\r\n\r\n  const form = e.target;\r\n  const formFields = form.elements;\r\n  if (form.dataset.type === 'signup') _model_js__WEBPACK_IMPORTED_MODULE_7__.signup(formFields);\r\n  if (form.dataset.type === 'login') _model_js__WEBPACK_IMPORTED_MODULE_7__.login(formFields);\r\n\r\n  _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].close();\r\n  initialUser();\r\n};\r\n\r\nconst controlModalFormAuthClick = function (e) {\r\n  if (\r\n    e.target.closest('#modal-form-auth-close-btn') ||\r\n    e.target.classList.contains('pop-up')\r\n  ) {\r\n    _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].close();\r\n  }\r\n  if (e.target.closest('#modal-form-auth-alternativ-link')) {\r\n    e.preventDefault();\r\n    const type = e.target.getAttribute('href');\r\n    if (type === 'register') _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].signup();\r\n    if (type === 'login') _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].login();\r\n  }\r\n};\r\n\r\nconst controlModalProfileClick = function (e) {\r\n  if (\r\n    e.target.closest('#modal-profile-close-btn') ||\r\n    e.target.classList.contains('pop-up')\r\n  ) {\r\n    _Views_ModalWindows_modalProfileView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].close();\r\n  }\r\n  if (e.target.closest('#modal-profile-copy-btn')) {\r\n    const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.getUser();\r\n    navigator.clipboard.writeText(user.cardNumber).catch((err) => {\r\n      console.log('Failed to copy card number', err);\r\n    });\r\n  }\r\n};\r\n\r\nconst controlBookBtnsClick = function (e) {\r\n  const user = _model_js__WEBPACK_IMPORTED_MODULE_7__.getUser();\r\n  const btn = e.target;\r\n  if (user && user.subscription) {\r\n    _model_js__WEBPACK_IMPORTED_MODULE_7__.buyBook(btn.dataset.book);\r\n    initialUser();\r\n  }\r\n  if (user && !user.subscription) _Views_ModalWindows_modalBuyCardView__WEBPACK_IMPORTED_MODULE_6__[\"default\"].show();\r\n  if (!user) _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].login();\r\n};\r\n\r\nconst controlModalBuyCardSubmit = function (e) {\r\n  e.preventDefault();\r\n  _model_js__WEBPACK_IMPORTED_MODULE_7__.buyCard();\r\n  _Views_ModalWindows_modalBuyCardView__WEBPACK_IMPORTED_MODULE_6__[\"default\"].close();\r\n};\r\n\r\nconst controlModalBuyCardClick = function (e) {\r\n  if (\r\n    e.target.closest('#modal-buy-card-close-btn') ||\r\n    e.target.classList.contains('pop-up')\r\n  ) {\r\n    _Views_ModalWindows_modalBuyCardView__WEBPACK_IMPORTED_MODULE_6__[\"default\"].close();\r\n  }\r\n};\r\n\r\nconst init = function () {\r\n  initialUser();\r\n  _Views_headerMenuView__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addHandleRender(controlHeaderMenu);\r\n  _Views_ModalWindows_modalFormAuthView__WEBPACK_IMPORTED_MODULE_4__[\"default\"].addHandleForm(\r\n    controlModalFormAuthSubmit,\r\n    controlModalFormAuthClick\r\n  );\r\n  _Views_ModalWindows_modalProfileView__WEBPACK_IMPORTED_MODULE_5__[\"default\"].addHandleModalProfile(controlModalProfileClick);\r\n  _Views_ModalWindows_modalBuyCardView__WEBPACK_IMPORTED_MODULE_6__[\"default\"].addHendleModalBuyCardClick(\r\n    controlModalBuyCardClick,\r\n    controlModalBuyCardSubmit\r\n  );\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addHandleTabletChange(controlTabletChange);\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addHandleRightCarretClick(controlRightCarretClick);\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addHandleLeftCarretClick(controlLeftCarretClick);\r\n  _Views_carouselView__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addHeandlePaginationClick(controlPaginationClick);\r\n  _Views_favoritesView__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addHandleTabsClick(controlTabsClick);\r\n  _Views_favoritesView__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addHandleBookBtnsClick(controlBookBtnsClick);\r\n  _Views_cardView__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addHandleSubmitCard(controlCardClick, controlCardSubmit);\r\n};\r\ninit();\r\n\n\n//# sourceURL=webpack://library/./src/script/controller.js?");

/***/ }),

/***/ "./src/script/model.js":
/*!*****************************!*\
  !*** ./src/script/model.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buyBook: () => (/* binding */ buyBook),\n/* harmony export */   buyCard: () => (/* binding */ buyCard),\n/* harmony export */   checkCard: () => (/* binding */ checkCard),\n/* harmony export */   getUser: () => (/* binding */ getUser),\n/* harmony export */   logOut: () => (/* binding */ logOut),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   setUser: () => (/* binding */ setUser),\n/* harmony export */   signup: () => (/* binding */ signup),\n/* harmony export */   state: () => (/* binding */ state),\n/* harmony export */   updateCurrentImages: () => (/* binding */ updateCurrentImages),\n/* harmony export */   updateCurrentTab: () => (/* binding */ updateCurrentTab),\n/* harmony export */   updatePosition: () => (/* binding */ updatePosition),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\nlet state = {\r\n  carouser: {\r\n    currentImages: [],\r\n    position: null,\r\n    posssiblePositionNumber: null,\r\n  },\r\n  tabs: {\r\n    currentTab: null,\r\n  },\r\n  user: null,\r\n};\r\n\r\nconst updateCurrentImages = function (images) {\r\n  state.carouser.currentImages = images;\r\n};\r\n\r\nconst updatePosition = function (position) {\r\n  state.carouser.position = position;\r\n};\r\n\r\nconst updateCurrentTab = function (tab) {\r\n  state.tabs.currentTab = tab;\r\n};\r\n\r\nconst setUser = function () {\r\n  const user = JSON.parse(localStorage.getItem('currentUser'));\r\n  if (!user) state.user = null;\r\n  state.user = user;\r\n};\r\n\r\nconst getUser = function () {\r\n  return state.user;\r\n};\r\n\r\nconst updateUser = function (newUser) {\r\n  let users = JSON.parse(localStorage.getItem('users'));\r\n  if (!users) return;\r\n\r\n  const newUsers = users.map((user) =>\r\n    user.cardNumber === newUser.cardNumber ? newUser : user\r\n  );\r\n\r\n  localStorage.setItem('users', JSON.stringify(newUsers));\r\n};\r\n\r\nconst genRanHex = function (size) {\r\n  return [...Array(size)]\r\n    .map(() => Math.floor(Math.random() * 16).toString(16))\r\n    .join('')\r\n    .toUpperCase();\r\n};\r\n\r\nconst signup = function (formFields) {\r\n  let users = JSON.parse(localStorage.getItem('users'));\r\n\r\n  if (!users) users = [];\r\n  if (users.map((user) => user.email).includes(formFields.email.value)) return;\r\n\r\n  const cardNumbers = users.map((user) => user.cardNumber);\r\n  let cardNumber = '';\r\n  do {\r\n    cardNumber = genRanHex(9);\r\n  } while (cardNumbers.includes(cardNumber));\r\n\r\n  const newUser = {\r\n    firstName: formFields.firstName.value,\r\n    lastName: formFields.lastName.value,\r\n    email: formFields.email.value,\r\n    password: formFields.password.value,\r\n    cardNumber: cardNumber,\r\n    visits: 1,\r\n    bonuses: 0,\r\n    rentedBooks: null,\r\n    subscription: false,\r\n  };\r\n\r\n  users.push(newUser);\r\n  localStorage.setItem('users', JSON.stringify(users));\r\n  localStorage.setItem('currentUser', JSON.stringify(newUser));\r\n  setUser();\r\n};\r\n\r\nconst login = function (authData) {\r\n  const users = JSON.parse(localStorage.getItem('users'));\r\n  if (!users) return;\r\n\r\n  const user = users.find(\r\n    (user) =>\r\n      (user.email === authData.id.value ||\r\n        user.cardNumber === authData.id.value) &&\r\n      user.password === authData.password.value\r\n  );\r\n  if (user) {\r\n    user.visits++;\r\n    updateUser(user);\r\n    localStorage.setItem('currentUser', JSON.stringify(user));\r\n  }\r\n  setUser();\r\n};\r\n\r\nconst logOut = function () {\r\n  localStorage.setItem('currentUser', null);\r\n  setUser();\r\n};\r\n\r\nconst checkCard = function (cardData) {\r\n  const users = JSON.parse(localStorage.getItem('users'));\r\n\r\n  if (!users) return;\r\n\r\n  const [firstName, lastName] = cardData.name.value.trim().split(' ');\r\n  const cardNumber = cardData.card.value.trim();\r\n\r\n  const user = users.find(\r\n    (user) =>\r\n      user.firstName === firstName &&\r\n      user.lastName === lastName &&\r\n      user.cardNumber === cardNumber\r\n  );\r\n\r\n  return user;\r\n};\r\n\r\nconst buyBook = function (book) {\r\n  state.user.rentedBooks\r\n    ? state.user.rentedBooks.push(book)\r\n    : (state.user.rentedBooks = [book]);\r\n\r\n  updateUser(state.user);\r\n  localStorage.setItem('currentUser', JSON.stringify(state.user));\r\n};\r\n\r\nconst buyCard = function () {\r\n  state.user.subscription = true;\r\n  updateUser(state.user);\r\n  localStorage.setItem('currentUser', JSON.stringify(state.user));\r\n};\r\n\n\n//# sourceURL=webpack://library/./src/script/model.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/script/controller.js");
/******/ 	
/******/ })()
;