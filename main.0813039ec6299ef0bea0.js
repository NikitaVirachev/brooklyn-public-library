!function(){"use strict";var e={91:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},486:function(e,t,n){e.exports=n.p+"assets/book-1-small.jpg"},163:function(e,t,n){e.exports=n.p+"assets/book-10-small.jpg"},708:function(e,t,n){e.exports=n.p+"assets/book-11-small.jpg"},493:function(e,t,n){e.exports=n.p+"assets/book-12-small.jpg"},246:function(e,t,n){e.exports=n.p+"assets/book-13-small.jpg"},500:function(e,t,n){e.exports=n.p+"assets/book-14-small.jpg"},636:function(e,t,n){e.exports=n.p+"assets/book-15-small.jpg"},406:function(e,t,n){e.exports=n.p+"assets/book-16-small.jpg"},662:function(e,t,n){e.exports=n.p+"assets/book-2-small.jpg"},345:function(e,t,n){e.exports=n.p+"assets/book-3-small.jpg"},457:function(e,t,n){e.exports=n.p+"assets/book-4-small.jpg"},890:function(e,t,n){e.exports=n.p+"assets/book-5-small.jpg"},34:function(e,t,n){e.exports=n.p+"assets/book-6-small.jpg"},20:function(e,t,n){e.exports=n.p+"assets/book-7-small.jpg"},32:function(e,t,n){e.exports=n.p+"assets/book-8-small.jpg"},212:function(e,t,n){e.exports=n.p+"assets/book-9-small.jpg"},843:function(e,t,n){e.exports=n.p+"assets/Carret_Left.svg"},627:function(e,t,n){e.exports=n.p+"assets/Carret_Right.svg"},214:function(e,t,n){e.exports=n.p+"assets/burger-close.svg"},834:function(e,t,n){e.exports=n.p+"assets/burger.svg"},701:function(e,t,n){e.exports=n.p+"assets/favicon-32x32.png"},685:function(e,t,n){e.exports=n.p+"assets/u_facebook-f.svg"},988:function(e,t,n){e.exports=n.p+"assets/u_instagram.svg"},198:function(e,t,n){e.exports=n.p+"assets/u_twitter-alt.svg"},133:function(e,t,n){e.exports=n.p+"assets/image-1-small.jpg"},873:function(e,t,n){e.exports=n.p+"assets/image-2-small.jpg"},529:function(e,t,n){e.exports=n.p+"assets/image-3-small.jpg"},667:function(e,t,n){e.exports=n.p+"assets/image-4-small.jpg"},498:function(e,t,n){e.exports=n.p+"assets/image-5-small.jpg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&!e;)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,function(){var e=n(91),t=n.n(e),a=new URL(n(701),n.b),r=new URL(n(834),n.b),s=new URL(n(214),n.b),o=new URL(n(843),n.b),i=new URL(n(133),n.b),l=new URL(n(873),n.b),c=new URL(n(529),n.b),d=new URL(n(667),n.b),u=new URL(n(498),n.b),p=new URL(n(627),n.b),m=new URL(n(486),n.b),b=new URL(n(662),n.b),f=new URL(n(345),n.b),h=new URL(n(457),n.b),g=new URL(n(890),n.b),_=new URL(n(34),n.b),v=new URL(n(20),n.b),y=new URL(n(32),n.b),k=new URL(n(212),n.b),w=new URL(n(163),n.b),L=new URL(n(708),n.b),S=new URL(n(493),n.b),C=new URL(n(246),n.b),M=new URL(n(500),n.b),x=new URL(n(636),n.b),N=new URL(n(406),n.b),R=new URL(n(198),n.b),U=new URL(n(988),n.b),P=new URL(n(685),n.b),q=(t()(a),t()(r),t()(s),t()(o),t()(i),t()(l),t()(c),t()(d),t()(u),t()(p),t()(m),t()(b),t()(f),t()(h),t()(g),t()(_),t()(v),t()(y),t()(k),t()(w),t()(L),t()(S),t()(C),t()(M),t()(x),t()(N),t()(R),t()(U),t()(P),n.p+"assets/icon_profile.svg"),H=new class{#e=document.querySelector("#header");#t=document.querySelector("#navigation");#n=document.querySelector("#header-menu-btns");#a=document.querySelector("#header-backarea");#r=document.querySelector("#icon-profile");#s=null;addHandleRender(e){this.#e.addEventListener("click",e)}addHandleIconProfileClick(e){this.#r.addEventListener("click",e)}hideEverything(){this.#o(),this.#i(),this.#a.classList.remove("header__backarea--show")}#o(){this.#n.classList.add("header__burger--open"),this.#t.classList.add("navigation--close")}toggleBurgerMenu(){this.#n.classList.toggle("header__burger--open"),this.#t.classList.toggle("navigation--close"),this.#a.classList.toggle("header__backarea--show"),this.#s.classList.contains("profile-menu--hidden")||(this.#i(),this.#a.classList.add("header__backarea--show"))}#i(){this.#s.classList.add("profile-menu--hidden")}toggleProfileMenu(){this.#s.classList.toggle("profile-menu--hidden"),this.#a.classList.toggle("header__backarea--show"),this.#n.classList.contains("header__burger--open")||(this.#o(),this.#a.classList.add("header__backarea--show"))}#l(e){return`\n      <nav class="profile-menu profile-menu--hidden" id="profile-menu">\n        ${e.cardNumber?`<div class="profile-menu__header-item profile-menu__header-item--small">${e.cardNumber}</div>`:'<div class="profile-menu__header-item">Profile</div>'}\n        <ul class="profile-menu__list">\n          <li class="profile-menu__item" id="${e.firstId}">\n            ${e.firstBtn}\n          </li>\n          <li class="profile-menu__item" id="${e.secondId}">\n            ${e.secondBtn}\n          </li>\n        </ul>\n      </nav>\n    `}setState(e,t){if(this.#r.innerHTML="",e){const t={firstId:"my-profile-btn",secondId:"logout-btn",firstBtn:"My profile",secondBtn:"Log Out",cardNumber:e.cardNumber};this.#r.insertAdjacentHTML("afterbegin",this.#l(t)),this.#r.insertAdjacentHTML("afterbegin",`\n          <div class="header__initials-icon" \n            title="${e.firstName} ${e.lastName}">\n            ${e.firstName.charAt(0).toUpperCase()}\n            ${e.lastName.charAt(0).toUpperCase()}\n          </div>\n        `)}else{const e={firstId:"login-btn",secondId:"register-btn",firstBtn:"Log In",secondBtn:"Register",cardNumber:null};this.#r.insertAdjacentHTML("afterbegin",this.#l(e)),this.#r.insertAdjacentHTML("afterbegin",`<img src="${q}" alt="Icon of profile" />`)}this.#s=document.querySelector("#profile-menu"),this.addHandleIconProfileClick(t)}},B=new class{#c=document.querySelector("#left-carret");#d=document.querySelector("#right-carret");#u=document.querySelector("#pagination");#p=Array.from(document.querySelectorAll(".carousel__circle"));#m=Array.from(document.querySelectorAll(".carousel__btn"));#b=document.querySelector("#carousel-images-container");#f=window.matchMedia("(max-width: 1439px)");#h=47.5;#g=[0,-this.#h,2*-this.#h,3*-this.#h,4*-this.#h];#_(e){this.#p.forEach((e=>{e.classList.remove("carousel__circle--active")})),this.#p[e].classList.add("carousel__circle--active")}render(e){this.#_(e),this.#d.removeAttribute("disabled"),this.#c.removeAttribute("disabled"),e===this.#g.length-1&&this.#d.setAttribute("disabled",""),0===e&&this.#c.setAttribute("disabled",""),this.#m.forEach((e=>{e.removeAttribute("disabled")})),this.#m[e].setAttribute("disabled",""),document.documentElement.style.setProperty("--carousel-position",this.#g[e]+"rem")}#v(){this.#b.classList.remove("move-to")}moveTo(e,t){document.documentElement.style.setProperty("--animation-position-from",this.#g[e]+"rem"),document.documentElement.style.setProperty("--animation-position-to",this.#g[t]+"rem"),this.#b.classList.add("move-to"),this.#b.addEventListener("animationend",this.#v.bind(this),{once:!0}),this.render(t)}addHandleTabletChange(e){this.#f.addEventListener("change",e),e(this.#f)}addHandleRightCarretClick(e){this.#d.addEventListener("click",e)}addHandleLeftCarretClick(e){this.#c.addEventListener("click",e)}addHeandlePaginationClick(e){this.#u.addEventListener("click",e)}},T=new class{#y=document.querySelector("#tabs");#k=Array.from(document.querySelectorAll(".book"));setState(e){this.#k.forEach((t=>{const n=`${t.querySelector(".book__title").textContent.trim()}, ${t.querySelector(".book__author").textContent.trim()}`,a=t.querySelector(".btn");a.setAttribute("data-book",n),e&&e.rentedBooks?.includes(n)?(a.classList.add("btn--inactive"),a.setAttribute("disabled",""),a.innerHTML="Own"):(a.classList.remove("btn--inactive"),a.removeAttribute("disabled"),a.innerHTML="Buy")}))}#w(e){e.classList.remove("book__container--showed")}#L(e,t){e.classList.remove("book__container--hidden","book__container--active"),t.classList.add("book__container--active","book__container--showed"),t.addEventListener("animationend",this.#w.bind(this,t),{once:!0})}changeTab(e,t){const n=document.querySelector(`#${e}`),a=document.querySelector(`#${t}`);n.classList.add("book__container--hidden"),n.addEventListener("animationend",this.#L.bind(this,n,a),{once:!0})}addHandleTabsClick(e){this.#y.addEventListener("change",e)}addHandleBookBtnsClick(e){this.#k.forEach((t=>{t.querySelector(".btn").addEventListener("click",e)}))}},I=new class{#S=document.querySelector("#library-card");#C=document.querySelector("#check-card");#M=document.querySelector("#card-form-footer");#x=document.querySelector("#library-card-account");#N=document.querySelector("#name-input");#R=document.querySelector("#card-input");setState(e){e?(this.showProfileInfo(e),this.showVisitYourProfile()):(this.showSubmitBtn(),this.showGetReaderCard())}showSubmitBtn(){this.#M.innerHTML=this.#U(),this.cleanCardForm()}showProfileInfo(e){this.#N.value=`${e.firstName} ${e.lastName}`,this.#R.value=e.cardNumber,this.#M.innerHTML=this.#P(e)}showGetReaderCard(){this.#x.innerHTML=this.#q()}showVisitYourProfile(){this.#x.innerHTML=this.#H()}cleanCardForm(){this.#C.elements.name.value="",this.#C.elements.card.value=""}#U(){return'\n      <button\n        class="card-form__btn"\n        id="submit-card-btn"\n        type="submit"\n      >\n        Check the card\n      </button>\n    '}#P(e){return`\n      <div class="cards-profile">\n        <div class="cards-profile__info">\n          <p>visits</p>\n          <img src="./src/img/icons/Union.svg" alt="Man icon" />\n          <p>${e.visits}</p>\n        </div>\n        <div class="cards-profile__info">\n          <p>bonuses</p>\n          <img src="./src/img/icons/Star 1.svg" alt="Star icon" />\n          <p>${e.bonuses}</p>\n        </div>\n        <div class="cards-profile__info">\n          <p>books</p>\n          <img src="./src/img/icons/book.svg" alt="Man icon" />\n          <p>${e.rentedBooks?.length||0}</p>\n        </div>\n      </div>\n    `}#q(){return'\n      <p class="library-card__title library-card__title--forum">\n        Get a reader card\n      </p>\n      <p class="library-card__description">\n        You will be able to see a reader card after logging into account\n        or you can register a new account\n      </p>\n      <div class="library-card__buttons">\n        <div class="btn" id="library-card-signup">Sign Up</div>\n        <div class="btn" id="library-card-login">Log In</div>\n      </div>\n    '}#H(){return'\n      <p class="library-card__title library-card__title--forum">\n        Visit your profile\n      </p>\n      <p class="library-card__description">\n        With a digital library card you get free access to the \n        Library’s wide array of digital resources including e-books, \n        databases, educational resources, and more.\n      </p>\n      <div class="library-card__buttons">\n        <div class="btn" id="library-card-profile">Profile</div>\n      </div>\n    '}addHandleSubmitCard(e,t){this.#S.addEventListener("click",e),this.#S.addEventListener("submit",t)}};class A{_wrapper;_modal;constructor(e,t){this._wrapper=document.querySelector(e),this._modal=document.querySelector(t)}_open(){this._wrapper.classList.add("pop-up--show")}close(){this._wrapper.classList.remove("pop-up--show")}}var $=new class extends A{addHandleForm(e,t){this._wrapper.addEventListener("submit",e),this._wrapper.addEventListener("click",t)}_createLoginFormMarkup(){return'\n      <div class="close-btn" id="modal-form-auth-close-btn"></div>\n\n      <div class="modal-form-auth__header">Login</div>\n\n      <label for="login-id" class="modal-form__label">\n        E-mail or readers card\n      </label>\n      <input\n        id="login-id"\n        class="modal-form__input"\n        type="text"\n        name="id"\n        required\n      />\n\n      <label for="login-password" class="modal-form__label">\n        Password\n      </label>\n      <input\n        id="login-password"\n        class="modal-form__input"\n        type="password"\n        name="password"\n        minlength="8"\n        required\n      />\n\n      <button class="btn modal-form__submit-btn" type="submit">Log In</button>\n\n      <div class="modal-form-auth__alternative">\n        <span>Don’t have an account?</span>\n        <a class="modal-form-auth__alternativ-link" id="modal-form-auth-alternativ-link" href="register">Register</a>\n      </div>\n    '}_createRegisterFormMarkup(){return'\n      <div class="close-btn" id="modal-form-auth-close-btn"></div>\n\n      <div class="modal-form-auth__header">Register</div>\n\n      <label for="first-name" class="modal-form__label">\n        First name\n      </label>\n      <input\n        id="first-name"\n        class="modal-form__input"\n        type="text"\n        name="firstName"\n        required\n      />\n\n      <label for="last-name" class="modal-form__label">\n        Last name\n      </label>\n      <input\n        id="last-name"\n        class="modal-form__input"\n        type="text"\n        name="lastName"\n        required\n      />\n\n      <label for="email" class="modal-form__label">\n        E-mail\n      </label>\n      <input\n        id="email"\n        class="modal-form__input"\n        type="email"\n        name="email"\n        required\n      />\n\n      <label for="login-password" class="modal-form__label">\n        Password\n      </label>\n      <input\n        id="login-password"\n        class="modal-form__input"\n        type="password"\n        minlength="8"\n        name="password"\n        required\n      />\n\n      <button class="btn modal-form__submit-btn" type="submit">Sign Up</button>\n\n      <div class="modal-form-auth__alternative">\n        <span>Already have an account?</span>\n        <a class="modal-form-auth__alternativ-link" id="modal-form-auth-alternativ-link" href="login">Login</a>\n      </div>\n    '}login(){this._modal.innerHTML=this._createLoginFormMarkup(),this._modal.setAttribute("data-type","login"),this._open()}signup(){this._modal.innerHTML=this._createRegisterFormMarkup(),this._modal.setAttribute("data-type","signup"),this._open()}}("#modal-form-auth-wrapper","#modal-form-auth"),E=new class extends A{addHandleModalProfile(e){this._wrapper.addEventListener("click",e)}_createModalProfileMarkup(e){return`\n      <div class="close-btn" id="modal-profile-close-btn"></div>\n\n      <div class="modal-profile__user">\n        <div class="modal-profile__avatar">\n          ${e.firstName.charAt(0).toUpperCase()}\n          ${e.lastName.charAt(0).toUpperCase()}\n        </div>\n        <div class="modal-profile__name">\n          ${e.firstName} ${e.lastName}\n        </div>\n      </div>\n\n      <div class="modal-profile__about">\n        <p class="modal-profile__header">My profile</p>\n\n        <div class="modal-profile__data">\n          <div class="cards-profile">\n            <div class="cards-profile__info">\n              <p class="cards-profile__title">visits</p>\n              <img src="./src/img/icons/Union.svg" alt="Man icon" />\n              <p class="cards-profile__value">${e.visits}</p>\n            </div>\n            <div class="cards-profile__info">\n              <p class="cards-profile__title">bonuses</p>\n              <img src="./src/img/icons/Star 1.svg" alt="Star icon" />\n              <p class="cards-profile__value">${e.bonuses}</p>\n            </div>\n            <div class="cards-profile__info">\n              <p class="cards-profile__title">books</p>\n              <img src="./src/img/icons/book.svg" alt="Man icon" />\n              <p class="cards-profile__value">${e.rentedBooks?.length||0}</p>\n            </div>\n          </div>\n\n          <div class="modal-profile__books">\n            <p>Rented books</p>\n            <ul class="modal-profile__list">\n              ${e.rentedBooks?.map((e=>`<li class="modal-profile__item">${e}</li>`)).reduce(((e,t)=>e+t))||""}\n            </ul>\n          </div>\n        </div>\n\n        <div class="modal-profile__card">\n          <span>Card number</span>\n          <span class="modal-profile__card-number">${e.cardNumber}</span>\n          <img\n            class="modal-profile__copy-btn"\n            id="modal-profile-copy-btn"\n            src="./src/img/icons/icon_copy.svg"\n            alt="Copy icon"\n          />\n        </div>\n      </div>\n    `}show(e){this._modal.innerHTML=this._createModalProfileMarkup(e),this._open()}}("#modal-profile-wrapper","#modal-profile"),j=new class extends A{addHendleModalBuyCardClick(e,t){this._wrapper.addEventListener("click",e),this._wrapper.addEventListener("submit",t)}_generateMarkup(){return'\n      <div\n        class="close-btn close-btn--white"\n        id="modal-buy-card-close-btn"\n      ></div>\n      <p class="modal-buy-card__title">Buy a library card</p>\n      <div class="modal-buy-card__content">\n        <form class="modal-buy-card__form" id="modal-buy-card-form">\n          <div class="modal-buy-card__group">\n            <label for="bank-card-number" class="modal-form__label">\n              Bank card number\n            </label>\n            <input\n              id="bank-card-number"\n              class="modal-form__input"\n              type="text"\n              name="bankCardNumber"\n              placeholder="1234 5678 9012 3456"\n              pattern="(\\d{4}\\s?){4}"\n              required\n            />\n\n            <fieldset class="modal-buy-card__expiration-code">\n              <legend class="modal-form__label">Expiration code</legend>\n              <input\n                id="expiration-code-1"\n                class="modal-form__input"\n                type="text"\n                name="expirationCode1"\n                placeholder="00"\n                pattern="\\d{2}"\n                required\n              />\n              <input\n                id="expiration-code-2"\n                class="modal-form__input"\n                type="text"\n                name="expirationCode2"\n                placeholder="00"\n                pattern="\\d{2}"\n                required\n              />\n            </fieldset>\n\n            <label for="cvc" class="modal-form__label">CVC</label>\n            <input\n              id="cvc"\n              class="modal-form__input modal-buy-card__cvc"\n              type="text"\n              name="cvc"\n              placeholder="000"\n              pattern="\\d{3}"\n              required\n            />\n          </div>\n\n          <div class="modal-buy-card__group">\n            <label for="cardholder-name" class="modal-form__label">\n              Cardholder name\n            </label>\n            <input\n              id="cardholder-name"\n              class="modal-form__input"\n              type="text"\n              name="cardholderName"\n              placeholder="Ivanov Ivan"\n              required\n            />\n\n            <label for="postal-code" class="modal-form__label">\n              Postal code\n            </label>\n            <input\n              id="postal-code"\n              class="modal-form__input"\n              type="text"\n              name="postalCode"\n              placeholder="123456789"\n              required\n            />\n\n            <label for="city-town" class="modal-form__label">\n              City / Town\n            </label>\n            <input\n              id="city-town"\n              class="modal-form__input"\n              type="text"\n              name="cityTown"\n              placeholder="Moscow"\n              required\n            />\n          </div>\n\n          <div class="modal-buy-card__cost">\n            <button class="btn modal-form__submit-btn" type="submit">\n              Buy\n            </button>\n            <p>$ 25.00</p>\n          </div>\n        </form>\n        <div class="modal-buy-card__description">\n          If you are live, work, attend school, or pay property taxes in New\n          York State, you can get a $25 digital library card right now using\n          this online form. Visitors to New York State can also use this form\n          to apply for a temporary card.\n        </div>\n      </div>\n    '}show(){this._modal.innerHTML=this._generateMarkup(),this._open()}}("#modal-buy-card-wrapper","#modal-buy-card");let O={carouser:{currentImages:[],position:null,posssiblePositionNumber:null},tabs:{currentTab:null},user:null};const F=function(e){O.carouser.position=e},J=function(){const e=JSON.parse(localStorage.getItem("currentUser"));e||(O.user=null),O.user=e},V=function(){return O.user},Y=function(e){let t=JSON.parse(localStorage.getItem("users"));if(!t)return;const n=t.map((t=>t.cardNumber===e.cardNumber?e:t));localStorage.setItem("users",JSON.stringify(n))},W=function(e){if(H.toggleProfileMenu(),e.target.closest("#my-profile-btn")){const e=V();E.show(e)}e.target.closest("#logout-btn")&&(localStorage.setItem("currentUser",null),J(),D()),e.target.closest("#login-btn")&&$.login(),e.target.closest("#register-btn")&&$.signup()},D=function(){J();const e=V();I.setState(e),H.setState(e,W),T.setState(e)};D(),H.addHandleRender((function(e){e.target.closest("#header-menu-btns, .navigation__item")&&H.toggleBurgerMenu(),e.target.closest("#header-backarea")&&H.hideEverything()})),$.addHandleForm((function(e){e.preventDefault();const t=e.target,n=t.elements;"signup"===t.dataset.type&&function(e){let t=JSON.parse(localStorage.getItem("users"));if(t||(t=[]),t.map((e=>e.email)).includes(e.email.value))return;const n=t.map((e=>e.cardNumber));let a="";do{a=[...Array(9)].map((()=>Math.floor(16*Math.random()).toString(16))).join("").toUpperCase()}while(n.includes(a));const r={firstName:e.firstName.value,lastName:e.lastName.value,email:e.email.value,password:e.password.value,cardNumber:a,visits:1,bonuses:0,rentedBooks:null,subscription:!1};t.push(r),localStorage.setItem("users",JSON.stringify(t)),localStorage.setItem("currentUser",JSON.stringify(r)),J()}(n),"login"===t.dataset.type&&function(e){const t=JSON.parse(localStorage.getItem("users"));if(!t)return;const n=t.find((t=>(t.email===e.id.value||t.cardNumber===e.id.value)&&t.password===e.password.value));n&&(n.visits++,Y(n),localStorage.setItem("currentUser",JSON.stringify(n))),J()}(n),$.close(),D()}),(function(e){if((e.target.closest("#modal-form-auth-close-btn")||e.target.classList.contains("pop-up"))&&$.close(),e.target.closest("#modal-form-auth-alternativ-link")){e.preventDefault();const t=e.target.getAttribute("href");"register"===t&&$.signup(),"login"===t&&$.login()}})),E.addHandleModalProfile((function(e){if((e.target.closest("#modal-profile-close-btn")||e.target.classList.contains("pop-up"))&&E.close(),e.target.closest("#modal-profile-copy-btn")){const e=V();navigator.clipboard.writeText(e.cardNumber).catch((e=>{console.log("Failed to copy card number",e)}))}})),j.addHendleModalBuyCardClick((function(e){(e.target.closest("#modal-buy-card-close-btn")||e.target.classList.contains("pop-up"))&&j.close()}),(function(e){e.preventDefault(),O.user.subscription=!0,Y(O.user),localStorage.setItem("currentUser",JSON.stringify(O.user)),j.close()})),B.addHandleTabletChange((function(e){F(0),B.render(O.carouser.position)})),B.addHandleRightCarretClick((function(e){const t=O.carouser.position;F(O.carouser.position+1);const n=O.carouser.position;B.moveTo(t,n)})),B.addHandleLeftCarretClick((function(e){const t=O.carouser.position;F(O.carouser.position-1);const n=O.carouser.position;B.moveTo(t,n)})),B.addHeandlePaginationClick((function(e){const t=e.target.classList.contains("carousel__btn")?e.target:e.target.parentElement,n=O.carouser.position,a=+t.dataset.position;F(a);const r=O.carouser.position;B.moveTo(n,r)})),T.addHandleTabsClick((function(e){const t=O.tabs.currentTab??"winterBooks";var n;n=e.target.dataset.tab,O.tabs.currentTab=n;const a=O.tabs.currentTab;T.changeTab(t,a)})),T.addHandleBookBtnsClick((function(e){const t=V(),n=e.target;var a;t&&t.subscription&&(a=n.dataset.book,O.user.rentedBooks?O.user.rentedBooks.push(a):O.user.rentedBooks=[a],Y(O.user),localStorage.setItem("currentUser",JSON.stringify(O.user)),D()),t&&!t.subscription&&j.show(),t||$.login()})),I.addHandleSubmitCard((function(e){if(e.target.closest("#library-card-signup")&&$.signup(),e.target.closest("#library-card-login")&&$.login(),e.target.closest("#library-card-profile")){const e=V();E.show(e)}}),(function(e){e.preventDefault();const t=function(e){const t=JSON.parse(localStorage.getItem("users"));if(!t)return;const[n,a]=e.name.value.trim().split(" "),r=e.card.value.trim();return t.find((e=>e.firstName===n&&e.lastName===a&&e.cardNumber===r))}(e.target.elements);t&&I.showProfileInfo(t),setTimeout(I.showSubmitBtn.bind(I),1e4)}))}()}();